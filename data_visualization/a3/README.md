# COVID-19 数据可视化作业 (A3)

## 📊 项目简介

基于 COVID-19 全球疫情数据的交互式散点图可视化，包含两个协调的多视图散点图，展示各国/地区的累计病例与死亡数据以及新增病例与死亡数据。项目实现了时间轴交互、完整 Tooltip 信息、多维度视觉编码等高级功能。

## 🚀 快速开始

### 1. 环境要求

- Python 3.7+
- 现代 Web 浏览器（Chrome, Firefox, Safari, Edge）
- 本地 HTTP 服务器

### 2. 运行步骤

#### 步骤 1: 数据预处理

```bash
cd /root/proj/lab/data_visualization/a3
python3 data_validation.py
```

#### 步骤 2: 启动可视化

```bash
cd /root/proj/lab/data_visualization/a3
python3 -m http.server 8000
```

#### 步骤 3: 访问可视化页面

打开浏览器，访问：`http://localhost:8000/index.html`

## ✨ 功能特性

### 核心功能

- **双散点图可视化**：Total Cases vs. Total Deaths 和 New Cases vs. New Deaths
- **时间轴交互**：拖动滑块选择任意日期，观察疫情随时间变化
- **完整 Tooltip 信息**：悬停显示总病例、总死亡、新增病例、新增死亡、总 CFR、当日 CFR
- **同步高亮**：悬停一个图表时，另一个图表中对应国家高亮
- **多维度视觉编码**：颜色编码 CFR（绿色=低，橙色=中，红色=高），点大小编码总病例数

### 交互操作

1. **查看数据**：页面加载后显示两个散点图（默认最新日期）
2. **时间探索**：使用顶部滑块选择任意日期
3. **详细信息**：悬停任意数据点查看完整信息
4. **跨视图关联**：观察两个图表间的同步高亮效果

## 📁 文件说明

```
a3/
├── index.html                      # 主可视化文件
├── covid-19_full_data_cleaned.csv  # 清洗后的数据文件
├── covid-19_full_data.csv          # 原始数据文件
├── data_validation.py              # 数据清洗脚本
├── data_analysis.py                # 数据分析脚本
└── README.md                       # 本文件
```

## 🔧 技术实现

- **前端**：HTML5 + CSS3 + D3.js v7 + JavaScript ES6+
- **数据处理**：Python + Pandas
- **数据源**：COVID-19 全球疫情数据集
- **清洗后数据**：238,133 行，222 个地区，数据完整性 100%

## 📈 数据质量

### 原始数据问题

- 总行数：248,346 行
- 缺失值：new_cases(271), new_deaths(19,838), total_deaths(19,754)
- 一致性问题：195 个数据一致性问题

### 清洗后效果

- 修复缺失值：20,264 个
- 解决一致性问题：195 个
- 过滤无效数据：10,213 行
- 数据完整性：new_cases 和 new_deaths 达到 100%

## 🚀 增强功能

- **时间轴交互**：动态时间轴探索
- **完整 Tooltip**：跨视图同步显示
- **多维度编码**：颜色+大小+CFR 编码
- **调试支持**：控制台输出

## 🎓 课程知识点覆盖

- **L2**: 时间序列数据处理、数据类型转换、派生指标计算
- **L3**: 位置编码、颜色编码、大小编码、表达性原则
- **L4**: 顺序型颜色映射、阈值颜色尺度、视觉通道组合
- **L5**: 并排布局、连接交互、视图一致性
- **L6**: 选择交互、探索交互、详情按需、连接交互

---

**项目信息**：

- **课程**：信息可视化 (InfoVis)
- **作业**：A3 - 多视图协调散点图
- **技术栈**：HTML5 + CSS3 + D3.js v7 + JavaScript ES6+ + Python
